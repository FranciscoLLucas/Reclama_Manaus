<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canal de Den√∫ncia</title>
    <link rel="stylesheet" href="cadastro.css">
    <link rel="shortcut icon" type="imagex/png" href="./image/ICONECHROMA.png">
</head>
<body>
    <!-- Menu de Navega√ß√£o -->
    <nav class="navbar">
        
    </nav>

    <!-- Conte√∫do Principal -->
    <div class="container">
        <!-- Se√ß√£o de Instru√ß√µes -->
        <div class="instructions">
            <h2>Denuncie e fa√ßa a diferen√ßa!</h2>
            <div class="step">
                <div class="icon">üìç</div>
                <p><strong>Localize:</strong> Nos informe a localiza√ß√£o precisa do problema.</p>
            </div>
            <div class="step">
                <div class="icon">üì∏</div>
                <p><strong>Registre:</strong> Tire fotos ou grave para comprovar o problema.</p>
            </div>
            <div class="step">
                <div class="icon">üí¨</div>
                <p><strong>Fale conosco:</strong> Denuncie e fa√ßa a diferen√ßa.</p>
            </div>
        </div>
        
       <!-- Se√ß√£o do Formul√°rio -->
       <div class="form-container">
        <form id="reportForm">
            <div class="input-group">
                <input id="nome" type="text" placeholder="Nome" required>
            </div>
            <div class="input-group">
                <input id="email" type="email" placeholder="Email">
            </div>
            <div class="input-group">
                <input id="endereco" type="text" placeholder="Endere√ßo" required>
                <input id="bairro" type="te" placeholder="Bairro">
            </div>
            <input id="titulo" type="text" placeholder="T√≠tulo" required>
            <textarea id="denuncia" placeholder="Descreva a den√∫ncia" required></textarea>
            <label>
                <select id="tipoProblema" required>
                    <option value="" disabled selected>Selecione o tipo de problema</option>
                    <option value="infraestrutura">Infraestrutura</option>
                    <option value="seguran√ßa">Seguran√ßa</option>
                    <option value="limpeza">Limpeza</option>
                </select>
                </label>
            
            <div>
                <div class="card">
                    <h1>Importar Arquivo</h1>
                    <form action="#" method="POST" enctype="multipart/form-data">
                        <label for="fileUpload" class="custom-button">Escolher Arquivo</label>
                        <input type="file" id="fileUpload" name="file" accept="image/*" style="display: none;">
                        <div id="file-name">Nenhum arquivo selecionado</div>
                    </form>
                </div>
            </div>
            
        
            <script>
               
                const fileInput = document.getElementById('fileUpload');
                const fileNameDisplay = document.getElementById('file-name');  
                fileInput.addEventListener('change', function () {
                const file = fileInput.files[0];
                const fileNameDisplay = document.getElementById('file-name');
                fileNameDisplay.textContent = file ? file.name : "Nenhum arquivo selecionado";
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        
                        const existingPreview = document.querySelector("#file-name img");
                        if (existingPreview) existingPreview.remove();
                        const preview = document.createElement("img");
                        preview.src = e.target.result;
                        preview.style.maxWidth = "200px";
                        preview.style.marginTop = "10px";
                        fileNameDisplay.appendChild(preview);
                    };
                    reader.readAsDataURL(file);
                }
            });
            </script>
            
            <button type="submit" onclick="enviarDenunciar()">ENVIAR</button>
        </form>
    </div>
</div>

        <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-auth-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-storage-compat.js"></script>

        <script>
    
            const firebaseConfig = {
                apiKey: "AIzaSyAq7ZSY9zJSIAHkhollNVHobntjfmMjdD4",
                authDomain: "reclamamanaus-f23fa.firebaseapp.com",
                projectId: "reclamamanaus-f23fa",
                storageBucket: "reclamamanaus-f23fa.firebasestorage.app",
                messagingSenderId: "735372483202",
                appId: "1:735372483202:web:09da0010bd8da53645729b"
            };
            firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();
        
            
            const nomeInput = document.getElementById("nome");
            const emailInput = document.getElementById("email");
        
            
            firebase.auth().onAuthStateChanged(user => {
                if (user) {
                    
                    nomeInput.value = user.displayName || "Usu√°rio sem nome";
                    emailInput.value = user.email || "Email n√£o dispon√≠vel";
                } else {
                    
                    window.location.href = "CadUser.html";
                }
            });
        </script>

<script src="script.js"></script>
<script src="denuncia.js"></script>
</body>
</html>
